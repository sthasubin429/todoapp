<style>
  ::ng-deep .cdk-overlay-container {
    z-index: 2000;
  }
</style>

<div class="newTask-wrapper">
  <h1 class="newTask-header">
    Create Task <span> <i class="fas fa-times" mat-dialog-close></i></span>
  </h1>
  <div mat-dialog-content>
    <form class="newTask-form" [formGroup]="addTaskForm">
      <div class="form-group">
        <label for="taskName" class="form-label">Task Name</label>
        <input
          type="text"
          name="taskName"
          class="form-input"
          id="taskName"
          required
          [formControl]="taskName"
          placeholder="Enter Task Name"
        />
        <mat-error *ngIf="taskName.dirty && taskName.invalid"
          >Task Name is invalid</mat-error
        >
      </div>

      <div
        class="
          form-row
          d-flex
          justify-content-around justify-content-md-between
        "
      >
        <div class="form-group">
          <label for="chooseList" class="form-label">Choose List</label>
          <mat-form-field appearance="fill">
            <mat-label>Choose List Name</mat-label>
            <mat-select [formControl]="listControl" required>
              <mat-option>--</mat-option>
              <mat-option *ngFor="let list of lists" [value]="list">
                {{ list }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="listControl.hasError('required')"
              >Please choose a List</mat-error
            >
          </mat-form-field>
        </div>

        <div class="form-group">
          <label for="choosePriority" class="form-label">Choose Priority</label>
          <mat-form-field appearance="fill">
            <mat-label>Choose Priority</mat-label>
            <mat-select [formControl]="priorityControl" required>
              <mat-option>--</mat-option>
              <mat-option
                *ngFor="let priority of priorities"
                [value]="priority"
              >
                {{ priority }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="priorityControl.hasError('required')"
              >Please choose a Priority</mat-error
            >
          </mat-form-field>
        </div>
        <div class="form-group">
          <label for="choosePriority" class="form-label"
            >Set Date and Time</label
          >
          <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input
              matInput
              type="datetime-local"
              [formControl]="dateControl"
              placeholder="start date"
            />
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </form>
  </div>
  <div
    mat-dialog-actions
    class="d-flex justify-content-center justify-content-md-end"
  >
    <button mat-stroked-button mat-dialog-close class="new-task-btn-alt">
      Cancel
    </button>
    <button mat-raised-button (click)="addNewTask()" class="new-task-btn">
      Add Task
    </button>
  </div>
</div>
